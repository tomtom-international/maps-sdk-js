---
title: Specialized search
hideMenu: false
hideSubmenu: false
hasTwoColumns: false
titleTags:
- label: "VERSION 0.0.1"
  color: "grey5"
- label: "PRIVATE PREVIEW"
  color: "grey5"
---

{<a style={{display: 'block', margin: '0', padding: '0'}} id="_geocoding"></a>}

# Geocoding

Geocoding is the process of converting addresses (like "109 Park Row, New York, United States") into geographic coordinates ("lat": 40.71226,"lon": -74.00207). It's designed for machine-to-machine interaction: a machine sends a full query string (i.e., a full address for example, “109 Park Row, New York, United States”) and wants to have the best result. However, note that the service is very tolerant of incomplete addresses and typos. It will also handle everything from exact street addresses, streets, or intersections as well as higher-level geographies such as city centers, counties, states, etc. See the [Geocoding API documentation](https://developer.tomtom.com/geocoding-api/documentation/geocode) for more information.

<Blockquote>

No POIs (Points of Interest) will be returned.

</Blockquote>

To make the request, you need to call the [`geocode`](/maps-sdk-js/javascript/maps/documentation/api-reference/modules/services/#geocode) function with your [`GeocodingParams`](/maps-sdk-js/javascript/maps/documentation/api-reference/modules/services/#geocodingparams), provided with a (mandatory) `query`. Additionally, [`GeocodingParams`](/maps-sdk-js/javascript/maps/documentation/api-reference/modules/services/#geocodingparams) accepts optional parameters, such as a `limit` or `countries`. For a full list of optional parameters, take a look at the [`GeocodingParams`](/maps-sdk-js/javascript/maps/documentation/api-reference/modules/services/#geocodingparams) definition or visit the [`Geocoding API documentation`](https://developer.tomtom.com/geocoding-api/documentation/geocode#request-parameters).

<Code>

```typescript
import { GeocodingParams } from "@anw/maps-sdk-js/services"

const geocodingParams: GeocodingParams = {
    query: "amsterdam",
    limit: 5,
    countries: ["NL"]
};
```

```javascript
const geocodingParams = {
    query: "amsterdam",
    limit: 5,
    countries: ["NL"]
};
```

</Code>

A request returns a [`Promise`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise)\<[`GeocodingResponse`](/maps-sdk-js/javascript/maps/documentation/api-reference/modules/services/#geocodingresponse)>.

```javascript
try {
    const geocodingResponse = await geocode(geocodingParams);
    // handle success
} catch (e) {
    // handle error
}
```

{<a style={{display: 'block', margin: '0', padding: '0'}} id="_geometry_search"></a>}

# Geometry search

The geometry search allows you to perform a free-form search inside one or more defined geographic areas (geometries). By default, POIs are returned as a result. For other result types, the **idxSet** parameter should be used.

There are two basic types of geometries that are supported:

-   [`Polygon`](https://github.com/DefinitelyTyped/DefinitelyTyped/blob/1261ff052c0ef57ce5465c26716b96d836e048f5/types/geojson/index.d.ts#L118L125) - an array of coordinates of vertices.

    <Code>

    ``` typescript
    import { Polygon } from "geojson";

    const polygon: Polygon = {
        type: "Polygon",
        coordinates: [
            [
                [-122.43576, 37.75241],
                [-122.43301, 37.7066],
                [-122.36434, 37.71205],
                [-122.37396, 37.7535]
            ]
        ]
    };
    ```

    ``` javascript
    const polygon = {
        type: "Polygon",
        coordinates: [
            [
                [-122.43576, 37.75241],
                [-122.43301, 37.7066],
                [-122.36434, 37.71205],
                [-122.37396, 37.7535]
            ]
        ]
    };
    ```

    </Code>

-   [`Circle`](/maps-sdk-js/javascript/maps/documentation/api-reference/interfaces/services.Circle) - center coordinates and a radius in meters.

    <Code>

    ``` typescript
    import { Circle } from "@anw/maps-sdk-js/services";

    const circle: Circle = {
        type: "Circle",
        coordinates: [4.9041, 52.3676],
        radius: 100
    };
    ```

    ``` javascript
    const circle = {
        type: "Circle",
        coordinates: [4.9041, 52.3676],
        radius: 100
    };
    ```
    </Code>

Besides these two basic supported geometries, there are a few additional types which are supported as geometry inputs for convenience purposes. The full list of supported input geometries can be found in ['SearchGeometryInput'](/maps-sdk-js/javascript/maps/documentation/api-reference/modules/services/#searchgeometryinput).

Provide the geometries and query to the [`GeometrySearchParams`](/maps-sdk-js/javascript/maps/documentation/api-reference/modules/services/#geometrysearchparams) and call the [`geometrySearch`](/maps-sdk-js/javascript/maps/documentation/api-reference/modules/services/#geometrysearch) function to make a request. You can also define optional parameters such as the number of results to return, language, and various constraints on what is searched for. More information about optional parameters and the geometry search can be found in the [Search API Geometry Search documentation](https://developer.tomtom.com/search-api/search-api-documentation-search/geometry-search).

<Code>

``` typescript
import { GeometrySearchParams } from "@anw/maps-sdk-js/services";

const geometrySearchParams: GeometrySearchParams = {
    query: "cafe",
    geometries: [polygon, circle]
};
```

``` javascript
const geometrySearchParams = {
    query: "cafe",
    geometries: [polygon, circle]
};
```

</Code>

The response is presented as a [`Promise`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise)\<[`GeometrySearchResponse`](/maps-sdk-js/javascript/maps/documentation/api-reference/modules/services/#geometrysearchresponse)>.

``` javascript
try {
    const geometrySearchResponse = await geometrySearch(geometrySearchParams);
    // handle success
} catch (e) {
    // handle failure
}
```

{<a style={{display: 'block', margin: '0', padding: '0'}} id="_geometry_data_search"></a>}

# Geometry data search

Geometry data search is used to obtain geometries to represent the outline of a city, county, or land area. It supports batch requests for up to 20 identifiers per call. To make the Geometry Data search request, use the [`geometryData`](/maps-sdk-js/javascript/maps/documentation/api-reference/modules/services/#geometrydata) function and provide it [`GeometryDataParams`](/maps-sdk-js/javascript/maps/documentation/api-reference/modules/services/#geometrydataparams). The only required parameter is a list of identifiers you want to get geometries for. Such identifiers can be found in Search results.

<Blockquote>

Not every Search result contains these geometry identifiers.

</Blockquote>

To get the identifiers, first get the [`PlaceDataSources`](/maps-sdk-js/javascript/maps/documentation/api-reference/modules/core/#placedatasources) in the `properties` ([`CommonPlaceProps`](/maps-sdk-js/javascript/maps/documentation/api-reference/modules/core/#commonplaceprops)) of a Search result. Then use its [`GeometryDataSource`](/maps-sdk-js/javascript/maps/documentation/api-reference/modules/core/#geometrydatasource) property to get the geometry ID.

```javascript
// Get geometry IDs from all the Places in a Geocoding response
const geocodingResponse = await geocode({ query: "paris", limit: 1 });
const geometryIds = geocodingResponse.features.map((a) => a.properties.dataSources?.geometry?.id);
```

You can provide an optional zoom level parameter, which defines the precision of the returned geometries. For more information about the additional data search, see [`GeometryDataParams`](/maps-sdk-js/javascript/maps/documentation/api-reference/modules/services/#geometrydataparams) and the [Search API Additional Data Search documentation](https://developer.tomtom.com/search-api/search-api-documentation/additional-data).
```javascript
const geometryDataParams = {
    geometries: geometryIds,
    zoom: 14
};
```

For the sake of convenience, there's the possibility to directly pass the Search result to the `geometries` parameter (see [`GeometriesInput`](web/maps/documentation/api-reference/modules/services/#geometriesinput) for all the allowed input types):
```javascript
const geometryDataParams = {
    geometries: geocodingResponse,
    zoom: 14
};
```

The request returns a [`Promise`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise)\<[`GeometryDataResponse`](/maps-sdk-js/javascript/maps/documentation/api-reference/modules/core/#geometrydataresponse)>.

``` javascript
try {
    const areaGeometry = await geometryData(geometryDataParams);
    // handle success
} catch (e) {
    // handle failure
}
```

{<a style={{display: 'block', margin: '0', padding: '0'}} id="_ev_charging_stations_availability_search"></a>}

# EV Charging station availability search

The EV charging stations availability search checks the availability of Electric Vehicle (EV) charging points at a specific charging station. To make the request, you need to call [`EVChargingStationsAvailability`](/maps-sdk-js/javascript/maps/documentation/api-reference/modules/services/#evchargingstationsavailability) and provide the corresponding [`EVChargingStationsAvailabilityParams`](/maps-sdk-js/javascript/maps/documentation/api-reference/modules/services/#evchargingstationsavailabilityparams). The only mandatory parameter is the charging station identifier. You can get this identifier from the [`CommonPlaceProps`](/maps-sdk-js/javascript/maps/documentation/api-reference/modules/core/#commonplaceprops) in the result of a Search. The identifier is in the [`PlaceDataSources`](/maps-sdk-js/javascript/maps/documentation/api-reference/modules/core/#placedatasources) of a Search result, labeled [`ChargingAvailabilityDataSource`](/maps-sdk-js/javascript/maps/documentation/api-reference/modules/core/#chargingavailabilitydatasource).

<Blockquote>

Not every Search result contains charging station information.

</Blockquote>

You can add optional restrictions to the request (see [`EVChargingStationsAvailabilityParams`](/maps-sdk-js/javascript/maps/documentation/api-reference/modules/services/#evchargingstationsavailabilityparams)): [connector type](https://developer.tomtom.com/search-api/search-api-documentation/supported-connector-types), minimum power (expressed in kilowatts) and maximum power (expressed in kilowatts).

<Code>

``` typescript
import { EVChargingStationsAvailabilityParams } from "@anw/maps-sdk-js/services";

const evChargingStationId = ... // get an ev charging station identifier from a search

const evChargingStationsAvailabilityParams: EVChargingStationsAvailabilityParams = {
    id: evChargingStationId,
    connectorTypes: ["StandardHouseholdCountrySpecific", "IEC62196Type1", "IEC62196Type1CCS"],
    minPowerKW: 1,
    maxPowerKW: 5
};
```

``` javascript
const evChargingStationId = ... // get an ev charging station identifier from a search

const evChargingStationsAvailabilityParams = {
    id: evChargingStationId,
    connectorTypes: ["StandardHouseholdCountrySpecific", "IEC62196Type1", "IEC62196Type1CCS"],
    minPowerKW: 1,
    maxPowerKW: 5
};
```

</Code>

A request returns a [`Promise`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise)\<[`ChargingAvailabilityResponse`](/maps-sdk-js/javascript/maps/documentation/api-reference/modules/services/#chargingavailabilityresponse)> object.

``` javascript
try {
    const evChargingStationsAvailabilityResponse = await EVChargingStationsAvailability(evChargingStationsAvailabilityParams);
    // handle success
} catch (e) {
    // handle error
}
```

{<a style={{display: 'block', margin: '0', padding: '0'}} id="_place_by_id"></a>}

# Place by ID

The Place by ID service endpoint provides detailed information about the Place found by its identifier (`entityId`).

<Blockquote>

Place by ID only supports POI (Points of Interest) ids.

</Blockquote>

A request can be made by calling the [`placeById`](/maps-sdk-js/javascript/maps/documentation/api-reference/modules/services/#placebyid) function and supplying the [`PlaceByIdParams`](/maps-sdk-js/javascript/maps/documentation/api-reference/modules/services/#placebyidparams). The service only has one mandatory parameter, which is the unique `entityId` of the POI being requested. There are several optional parameters, which can be found on the [`PlaceByIdParams`](/maps-sdk-js/javascript/maps/documentation/api-reference/modules/services/#placebyidparams) definition or on the [Place by ID documentation](https://developer.tomtom.com/search-api/documentation/place-by-id-service/place-by-id).

<Code>

```typescript
import { PlaceByIdParams } from "@anw/maps-sdk-js/services";

const placebyIdParams: PlaceByIdParams = {
    entityId: "756009003511328"
};
```

```javascript
const placebyIdParams = {
    entityId: "756009003511328"
};
```

</Code>

A request will return a [`Promise`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise)\<[`PlaceByIdResponse`](/maps-sdk-js/javascript/maps/documentation/api-reference/modules/services/#placebyidresponse).

```javascript
try {
    const placeByIdResponse = await placeById(placebyIdParams);
    // handle success
} catch (e) {
    // handle failure
}
```

{<a style={{display: 'block', margin: '0', padding: '0'}} id="_search_along_a_route"></a>}

# Search along a route (TODO)
