---
title: Traffic Flow Module
hideMenu: false
hideSubmenu: false
hasTwoColumns: false
titleTags:
- label: "VERSION 0.2.25"
  color: "grey5"
- label: "PRIVATE PREVIEW"
  color: "grey5"
---

Traffic flow provides real time observed speeds and travel times for all key roads in a network.
<img src="images/flow.png" alt="Traffic flow" style={{width: 500}} />
<br/>

# Initializing the Traffic Flow module
* First set up your project and map following the [Map quickstart guide](/javascript/maps/documentation/guides/map/quickstart).
* Make sure to have a running [TomTomMap](/javascript/maps/documentation/api-reference/map-init.TomTomMap) instance.
* If you want traffic flow straight away, include `"traffic_flow"` in your style:
```javascript
const map = new TomTomMap(
  { container: "map" },
  { style: { type: "published", include: ["traffic_flow"]}}
);
```
* If you want to further control traffic flow: import the `TrafficFlowModule` class:
```javascript
import { TrafficFlowModule } from "@anw/maps-sdk-js/map";
```
* [Initialize a Traffic module](/javascript/maps/documentation/api-reference/map-traffic.TrafficFlowModule#get) for your running map (default config):
```javascript
const traffic = await TrafficFlowModule.get(map);
```
* Optionally, [configure your module](#configuring-the-traffic-flow-module) in the step below.
<br/>

# Configuring the Traffic Flow Module
You can set traffic configuration on startup or at any time during runtime. Any configuration changes will be seamlessly applied without reloading the map.

## Ways to configure traffic

### Configuring on init
With the `config` parameter you can set all the configuration you want right when the module is [initialized](/javascript/maps/documentation/api-reference/map-traffic.TrafficFlowModule#get).
Any configuration parameters you don't set will resolve to their default values.
If you initialize the module right after the map itself, then the config takes effect right when traffic appears for the first time.

```javascript
const flow = await TrafficFlowModule.get(map, { visible: false });
```
<br/>

### Configuring with applyConfig
With the `config` parameter in [`applyConfig`](/javascript/maps/documentation/api-reference/map-traffic.TrafficFlowModule#applyConfig)
you can set all the configuration you want right on the spot while the module is already initialized.

Any configuration parameters you don't set won't have any effect, so the existing values will remain.
```javascript
const flow = await TrafficFlowModule.get(map);
// ...
flow.applyConfig({ visible: false });
```
<br/>

### Configuring with dedicated methods
You can change key configuration parts with dedicated methods which act the same as `applyConfig` just for the part they change.
```javascript
const flow = await TrafficFlowModule.get(map);
flow.setVisible(false);
flow.filter({ any: [{ roadCategories: { show: "only", values: ["primary"] } }] });
```
<br/>

### Reset traffic configuration:
All map modules offer a [`resetConfig`](/javascript/maps/documentation/api-reference/map-shared.AbstractMapModule#resetConfig) method which will reset the module config to defaults.

For traffic flow, resetting configuration means that visibilities will go back to defaults (visible), and any added filters will be removed.
```javascript
const flow = await TrafficFlowModule.get(map, { visible: false });
// ...
flow.resetConfig();
```
<br/>

## Traffic visibility
You can change traffic flow visibility via configuration or direct methods at any time.
It can be practical in your application to let users toggle traffic visibility, or to programmatically adjust it when
showing other content on the map.

You can control overall flow visibility via:
* [`setVisible`](/javascript/maps/documentation/api-reference/map-traffic.TrafficFlowModule#setVisible) method on the `TrafficFlowModule` class
* `visible` property in the config object upon module [init](/javascript/maps/documentation/api-reference/map-traffic.TrafficFlowModule#get)
* `visible` property in the config object in [`applyConfig`](/javascript/maps/documentation/api-reference/map-traffic.TrafficFlowModule#applyConfig)

```javascript
// applying flow visibility on init:
const flow = await TrafficFlowModule.get(map, { visible: false });
// then changing it via applyConfig:
flow.applyConfig({ flow: { visible: true }});
// then changing it via dedicated method:
flow.setFlowVisible(true);
```
<br/>

## Filtering traffic flow
If you want more advanced control on what traffic flow to display, you can use filtering.
With traffic filtering you can, at any time, change what types of traffic flow you display in more detail.

You can filter traffic flow via:
* the `filters` properties in the config object upon module [init](/javascript/maps/documentation/api-reference/map-traffic.TrafficFlowModule#get)
* the `filters` properties in [`applyConfig`](/javascript/maps/documentation/api-reference/map-traffic.TrafficFlowModule#applyConfig)
* [`filter`](/javascript/maps/documentation/api-reference/map-traffic.TrafficFlowModule#filterFlow) method

>Coming soon...
